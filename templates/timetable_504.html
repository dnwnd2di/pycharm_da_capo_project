<link rel="stylesheet" href="{{ url_for('static', filename='timetable.css')}}">

{% extends "base_timetable.html" %}

{% block title %} login {% endblock %}

{% block optional_javascript %}
<style type="text/css">
    td{
        text-align: center;
    }
</style>

{% endblock %}

{% block content %}

<div class="container">
    <div class="col-md-1"></div>
    <div class="col-md-12">
        <table class ="table table-bordered " id="timetable">
            <tr>
                <th>504호</th>
                <th>Mon</th>
                <th>Tue</th>
                <th>Wed</th>
                <th>Thu</th>
                <th>Fri</th>
            </tr>

            {% for i in range(14)%}
            <tr>
                <th>{{time[i]}}</th>
                {% for j in range(5) %}
                 <td>{{counter[i][j]}}</td>
                {% endfor %}
            </tr>
             {% endfor %}
        </table>
    </div>
    <div class="col-md-1"></div>
</div>

<div class="container" align="center">
    <button type="button" class="btn btn-danger" ><a href="{{url_for('finish_reservation')}}" style="color: white;">예약완료</a></button>
</div>

<div class="test_json" align="center">

</div>


<script type="text/javascript">
    {% if data %}
         var obj = jQuery.parseJSON( '[{"StudentID": 123456789}]');
         var number=0;
         table_id=obj[0].StudentID;
         if (table_id == '123456789'){
            $( function(event) {
                    $('td').click( function() {
                        if (number<2){
                            if($(this).attr('style')){
                                number=number-1;
                                $(this).removeAttr('style');
                            }
                            else{
                                $(this).css('background', 'red')
                                number=number+1;
                            }
                        }
                        else{
                            if($(this).attr('style')){
                                number=number-1;
                                $(this).removeAttr('style');
                            }
                            else{
                                $('td').removeAttr('style');
                                number=0;
                            }
                        }
                     });
            });
         }
        {% endif %}

</script>

{% endblock %}